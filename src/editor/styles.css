/* Base theme */
.bn-container[data-color-scheme] {
    --bn-font-family: var(--lc-font-sans-serif);
    color-scheme: normal;
    scrollbar-color: light-dark(#8b8b8b, #9f9f9f) transparent;
}

/* Changes for dark mode */
.bn-container[data-color-scheme="dark"] {
    color-scheme: dark;

    /*Highlighting colors*/
    --bn-colors-highlights-gray-text: #a5a49f;
    --bn-colors-highlights-gray-background: #434241;
    --bn-colors-highlights-brown-text: #8e6552;
    --bn-colors-highlights-brown-background: #43342e;
    --bn-colors-highlights-red-text: #d13e3e;
    --bn-colors-highlights-red-background: #632929;
    --bn-colors-highlights-orange-text: #d7720b;
    --bn-colors-highlights-orange-background: #6d441c;
    --bn-colors-highlights-yellow-text: #dfab01;
    --bn-colors-highlights-yellow-background: #7d6824;
    --bn-colors-highlights-green-text: #33b751;
    --bn-colors-highlights-green-background: #396142;
    --bn-colors-highlights-blue-text: #1f92d5;
    --bn-colors-highlights-blue-background: #2c4d67;
    --bn-colors-highlights-purple-text: #925ee3;
    --bn-colors-highlights-purple-background: #4c3e63;
    --bn-colors-highlights-pink-text: #e52d9b;
    --bn-colors-highlights-pink-background: #772857;

    /*Editor background color*/
    --bn-colors-editor-background: #1d1d1d;
}

/* Changes for light mode */
/*.bn-container[data-color-scheme="light"] {
    --bn-colors-editor-background: #fefefe;
}*/

/*maybe unnecessary*/
.bn-container[data-color-scheme] .bn-editor {
    /*--bn-font-family: var(--lc-font-sans-serif);*/
    font-family: var(--lc-font-sans-serif);
}

.bn-default-styles {
    /*--bn-font-family: var(--lc-font-sans-serif);*/
    font-family: var(--lc-font-sans-serif);
}

.bn-editor {
    padding-top: 8px;
    padding-inline-start: 50px;
    padding-inline-end: 8px !important;
    min-height: 100px;
    border: 1px solid var(--color-border);
}

.bn-editor[contenteditable="false"] {
    padding-inline: 8px !important;
    padding-top: 0px;
}

/* Hide toolbars anywhere when a disabled bm-content exists */
/*.bn-editor[contenteditable="false"] [data-floating-ui-focusable],
.bn-editor[contenteditable="false"] .bn-toolbar {
    display: none !important;
}*/

/*.bn-container:has(.bn-editor[contenteditable="false"])
    [data-floating-ui-focusable] {
    display: none !important;
}*/

.bn-shadcn .bn-toolbar {
    max-width: 97vw;
}

.bn-container:has(.bn-editor[contenteditable="false"]) .bn-toolbar {
    display: none !important;
}

/*Should only affect link related input fields*/
.bn-container[data-color-scheme]
    .bn-toolbar
    .bn-text-input
    input[data-slot="input"] {
    border-radius: calc(0.25em + 1px);
    padding-inline: calc(0.25em + 1px);
}

.bn-container .bn-table-handle:is(button) {
    padding-inline: 0;
    background-color: light-dark(#ededed, #333333);
}

.bn-container .bn-table-handle:is(button):hover {
    background-color: light-dark(#aaaaaa, #666666);
}

/*Same as: .bn-container button.bn-button:hover */
.bn-container[data-color-scheme] .bn-button:is(button):hover {
    background-color: light-dark(#ededed, #333333);
    border-radius: 6px;
}

.bn-container[data-color-scheme]
    .bn-button:is(button)[aria-label="Open block menu"] {
    cursor: grab;
}

/*.bn-container .bn-button:is(button)[aria-label="Open block menu"]:active {
    cursor: grabbing;
}
.bn-container .bn-button:is(button)[aria-label="Open block menu"]:active:hover {
    cursor: grabbing;
}*/

.bn-container[data-color-scheme] .bn-panel {
    border: 1px solid var(--color-border);
    max-width: 85vw;
}

.bn-container[data-color-scheme] .bn-extend-button-add-remove-rows {
    max-height: 18px; /*width: ; of .bn-extend-button-add-remove-columns*/
    padding-inline: 0; /*Was 0px*/
    border: 1px solid var(--color-border);
    border-radius: var(--radius-sm);
    /*TODO: Prevent too much overflow*/
    /*max-width: 70vw;*/
}

.bn-container[data-color-scheme] .bn-extend-button-add-remove-columns {
    max-width: 18px; /*Height of .bn-extend-button-add-remove-rows*/
    padding-inline: 0; /*Was 6px*/
    border: 1px solid var(--color-border);
    border-radius: var(--radius-sm);
    /*TODO: Prevent too much overflow*/
}

.bn-editor code::spelling-error,
.bn-editor pre::spelling-error,
.bn-editor code::grammar-error,
.bn-editor pre::grammar-error {
    text-decoration: none;
    text-decoration-line: none;
}

.bn-container[data-color-scheme="dark"]
    .bn-code-content
    .bn-block-content[data-content-type="codeBlock"]
    select
    option {
    margin-left: 6px;
    background-color: #333333;
    color: var(--color-foreground);
}

/* * NOTE: Custom Styles for BlockNote*/
.bn-code-content
    .bn-block-content:not([data-content-type="codeBlock"])
    :not(pre)
    code {
    background-color: light-dark(#00000012, #ffffff12);
    font-variant-ligatures: none; /*Maybe add ligatures later*/
    color: var(--lc-text-color-monospace);
    /*border-radius: 4px;*/
    border-radius: calc(0.1em + 3px);
    padding: 0.1rem 0.28em 0.1rem; /*Shorthand definition*/
    font-family: var(--lc-font-monospace);
    font-size: calc(1em - 2px); /*MAYBE: Adjust later*/
    font-weight: 400; /*Hevier font for better readability, due to different display in light mode*/
}

.bn-container[data-color-scheme="dark"]
    .bn-block-content:not([data-content-type="codeBlock"])
    :not(pre)
    code {
    font-weight: 300 !important;
}

.bn-code-content .bn-block-content[data-content-type="codeBlock"] pre code {
    font-family: var(--lc-font-monospace);
    font-variant-ligatures: none; /*Maybe add ligatures later*/
    font-size: 14px; /*MAYBE: Adjust later*/
    font-weight: 300;
    /*line-height: 1.2;*/
}

.bn-container[data-color-scheme="dark"]
    .bn-block-content[data-content-type="codeBlock"] {
    /*border: 1px solid var(--color-border);*/
    background-color: #151515;
}

.bn-container[data-color-scheme="light"]
    .bn-block-content[data-content-type="codeBlock"] {
    background-color: #202020;
}

.bn-table-content .bn-block-content[data-content-type="table"] th {
    background-color: light-dark(#00000009, #ffffff09);
}

.bn-container[data-color-scheme="dark"]
    .bn-block-content[data-content-type="table"]
    th,
.bn-container[data-color-scheme="dark"]
    .bn-block-content[data-content-type="table"]
    td {
    border: 1px inset #393939 !important;
    /*border-collapse: collapse;
    border-spacing: 0;*/
}

.bn-container[data-color-scheme]
    .bn-table-content
    .bn-block-content[data-content-type="table"]
    .tableWrapper {
    margin-right: 5px;
}

/*.bn-container:has(.bn-editor[contenteditable="true"])
    .bn-block-content[data-content-type="table"]
    table {
    max-width: 85vw;
}*/

/*.bn-table-border table th td {
    border-color: var(--color-border);
}*/

/*TODO: overhaul and make all selectors more consistent, to avoid inconsistent behavior*/
